var Alert={_alert:null,_detailLabel:null,_cancelButton:null,_enterButton:null,_callBack:null,_animSpeed:.3,_params:null,show:function(c,r,o,i,u){var _=this;null==Alert._alert&&(Alert._animSpeed=u||Alert._animSpeed,cc.loader.loadRes("prefabs/Alert",cc.Prefab,function(e,t){if(e)cc.error(e);else{var l=cc.instantiate(t);Alert._alert=l,console.log("Alert.self.show._alert",Alert._alert);var n=cc.callFunc(_.onFadeOutFinish,_),a=cc.callFunc(_.onFadeInFinish,_);_.actionFadeIn=cc.sequence(cc.spawn(cc.fadeTo(Alert._animSpeed,255),cc.scaleTo(Alert._animSpeed,1)),a),_.actionFadeOut=cc.sequence(cc.spawn(cc.fadeTo(Alert._animSpeed,0),cc.scaleTo(Alert._animSpeed,2)),n),Alert._detailLabel=cc.find("alert_bg/LabelContent",l).getComponent(cc.Label),Alert._cancelButton=cc.find("alert_bg/BtnCancel",l),Alert._enterButton=cc.find("alert_bg/BtnOk",l),Alert._enterButton.on("click",_.onButtonClicked,_),Alert._cancelButton.on("click",_.onButtonClicked,_),Alert._alert.parent=cc.find("Canvas"),_.startFadeIn(),_.configAlert(c,r,o,i,u)}}),_.configAlert=function(e,t,l,n,a){Alert._callBack=t,Alert._params=l,Alert._detailLabel.string=e,n||null==n?Alert._cancelButton.active=!0:(Alert._cancelButton.active=!1,Alert._enterButton.x=0)},_.startFadeIn=function(){Alert._alert.position=cc.v2(0,0),Alert._alert.setScale(2),Alert._alert.opacity=0,Alert._alert.runAction(_.actionFadeIn)},_.startFadeOut=function(){Alert._alert.runAction(_.actionFadeOut)},_.onFadeInFinish=function(){},_.onFadeOutFinish=function(){_.onDestory()},_.onButtonClicked=function(e){"BtnOk"==e.target.name&&_._callBack&&_._callBack(_._params),_.startFadeOut()},_.onDestory=function(){Alert._alert.destroy(),Alert._callBack=null,Alert._params=null,Alert._alert=null,Alert._detailLabel=null,Alert._cancelButton=null,Alert._enterButton=null,Alert._animSpeed=.3})}};