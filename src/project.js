window.__require=function o(c,a,r){function l(e,t){if(!a[e]){if(!c[e]){var n=e.split("/");if(n=n[n.length-1],!c[n]){var i="function"==typeof __require&&__require;if(!t&&i)return i(n,!0);if(u)return u(n,!0);throw new Error("Cannot find module '"+e+"'")}}var s=a[e]={exports:{}};c[e][0].call(s.exports,function(t){return l(c[e][1][t]||t)},s,s.exports,o,c,a,r)}return a[e].exports}for(var u="function"==typeof __require&&__require,t=0;t<r.length;t++)l(r[t]);return l}({AudioMgr:[function(t,e,n){"use strict";cc._RF.push(e,"898abct9JFADLweE/6ACe9g","AudioMgr");var i=cc.Class({name:"AudioMgr",properties:{udioEffId:0,audioMusicId:0},ctor:function(){this.audioEffId=0,this.audioMusicId=0},playMusic:function(t,e){this.audioMusicId=cc.audioEngine.playMusic(t,e)},resumeMusic:function(){cc.audioEngine.resumeMusic()},pauseMusic:function(){cc.audioEngine.pauseMusic()},stopMusic:function(){cc.audioEngine.stopMusic()},playEffect:function(t,e){this.audioEffId=cc.audioEngine.playEffect(t,e)},resumeEffect:function(){cc.audioEngine.resumeEffect(this.audioEffId)},pauseEffect:function(){cc.audioEngine.pauseEffect(this.audioEffId)},stopEffect:function(){cc.audioEngine.stopEffect(this.audioEffId)},setMusicVolum:function(t){console.log("AudioMgr.setMusicVolum.audioMusicId,value",this.audioMusicId,t),cc.audioEngine.setVolume(this.audioMusicId,t)},setEffectVolume:function(t){console.log("AudioMgr.setEffectVolume.audioMusicId,value",this.audioMusicId,t),cc.audioEngine.setVolume(this.audioEffId,t)}});i._instance=null,i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},e.exports=i,cc._RF.pop()},{}],ButtonCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"fa5cbuBJG5C8qG+5+504QaT","ButtonCtrl"),cc.Class({extends:cc.Component,properties:{pressedScale:{default:.8,type:cc.Float},transDuration:{default:.1,type:cc.Float},audio:{default:0,type:cc.Integer},initScale:{default:1,type:cc.Integer}},onLoad:function(){var n=cc.loader.getRes("sound/btn_click.mp3"),i=this;function t(t){i.audioID&&(console.log("ButtonCtrl.onLoad.onTouchUp.that.audioID",i.audioID),cc.audioEngine.stopEffect(i.audioID));var e=cc.scaleTo(i.transDuration,i.initScale);this.stopAllActions(),this.runAction(e)}this.initScale=this.node.scale,this.node.on("touchstart",function(t){"true"==cc.sys.localStorage.getItem("EffIsOn")?i.audioID=cc.audioEngine.playEffect(n,!1):(console.log("ButtonCtrl.onLoad.onTouchDown.that.audioID",i.audioID),i.audioID&&cc.audioEngine.pauseEffect(i.audioID));var e=cc.scaleTo(i.transDuration,i.pressedScale);this.stopAllActions(),this.runAction(e)},this.node),this.node.on("touchend",t,this.node),this.node.on("touchcancel",t,this.node)}}),cc._RF.pop()},{}],ChatItem:[function(t,e,n){"use strict";cc._RF.push(e,"c1309rnZ1BOoKUpuD087STx","ChatItem");var i=cc.Class({name:"ChatItem",properties:{nick:"",content:"",name:{get:function(){return this.nick},set:function(t){this.nick=t}},speak:{get:function(){return this.content},set:function(t){this.content=t}}},ctor:function(){}});e.exports=i,cc._RF.pop()},{}],ChatMgr:[function(t,e,n){"use strict";cc._RF.push(e,"65c54F/xH1I3aBoaTQYpghE","ChatMgr");var r=t("../data/ChatItem"),i=cc.Class({name:"ChatMgr",properties:{dataArr:[]},ctor:function(){},initData:function(){for(var t=cc.loader.getRes("data/ChatConfig").json.talk,e=0;e<t.length;e++){var n="#"+Math.random().toString(16).substr(-6),i="#"+Math.random().toString(16).substr(-6),s=t[e],o=s.name||"",c=s.speak||"。。。。。。",a=new r;a.name="<color="+n+">【"+o+"】</color>",a.speak="<color="+i+">"+c+"</color>",this.dataArr.push(a)}},getOneData:function(){var t=this.dataArr.length,e=Math.floor(Math.random()*t);return this.dataArr[e]},getPlayerTalk:function(t,e){if(null==e||""==e)return null;var n="#"+Math.random().toString(16).substr(-6),i="#"+Math.random().toString(16).substr(-6),s=new r;return s.name="<color="+n+">【"+t+"】</color>",s.speak="<color="+i+">"+e+"</color>",s}});i._instance=null,i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},e.exports=i,cc._RF.pop()},{"../data/ChatItem":"ChatItem"}],GlobalData:[function(t,e,n){"use strict";cc._RF.push(e,"fe741+jJb9ExJbeepJlXq+T","GlobalData"),e.exports={times:1,gold:0,index:0,numberIndex:-1,enter_ui_first:!1,isGetReward:!1,setTimes:function(t){this.times=t},getTimes:function(){return this.times},setGold:function(t){this.gold=t},getGold:function(){return this.gold},setIndex:function(t){this.index=t},getIndex:function(){return this.index}},cc._RF.pop()},{}],LoadingScene:[function(t,e,n){"use strict";cc._RF.push(e,"b79d6PyyCZF/pNy2FqFMy2B","LoadingScene"),cc.Class({extends:cc.Component,properties:{progressBar:{default:null,type:cc.ProgressBar},progress_label:{default:null,type:cc.Label},urls:"button/",progress:0,completeCount:0,totalCount:0,resource:null},onLoad:function(){this.progressBar.progress=0,cc.loader.loadResDir("/",this.progressCallback.bind(this),this.completeCallback.bind(this)),this.preLoadScene()},preLoadScene:function(){cc.director.preloadScene("LoginScene",function(){cc.log("LoginScene加载完成")})},progressCallback:function(t,e,n){this.progress=Math.floor(t/e),this.resource=n,this.completeCount=t,this.totalCount=e},completeCallback:function(t,e,n){},update:function(t){if(this.resource){var e=this.progressBar.progress;if(1<=e)return console.log("加载完成"),this.progressBar.node.active=!1,this.enabled=!1,void cc.director.loadScene("LoginScene");e<this.progress&&(e+=t),this.progressBar.progress=e;var n=Math.floor(100*e),i=cc.js.formatStr("progress: %d",n);this.progress_label.string=i}}}),cc._RF.pop()},{}],LoginScene:[function(t,e,n){"use strict";cc._RF.push(e,"92662wieWZMi6NY6Iwh/y19","LoginScene");var i=cc.Enum({LOGIN:"LOGIN",REGISTER:"REGISTER"});e.exports={ELoginState:i};var s=t("./mgr/UserMgr"),o=t("./utils/StringUtils"),c=t("./data/UserItem");cc.Class({extends:cc.Component,properties:{label_show:{default:null,type:cc.Label},btn_show:{default:null,type:cc.Label},userName:{default:null,type:cc.EditBox},userPass:{default:null,type:cc.EditBox},label_eff:{default:null,type:cc.Node},label_tips:{default:null,type:cc.Label}},onLoad:function(){this.initialization()},initialization:function(){this.preLoadScene()},initData:function(){this.loginState=i.LOGIN},preLoadScene:function(){var t=this;cc.director.preloadScene("MenuScene",function(){t.initData(),cc.log("MenuScene加载完成")})},start:function(){},onSwitchRegClick:function(){this.loginState=i.REGISTER,this.refreshRegisterView(),console.log("LoginScene.onRegisterClick.....")},onSwitchLoginClick:function(){this.loginState=i.LOGIN,this.refreshLoginView()},onLoginClick:function(){console.log("LoginScene.onLoginClick.loginState...",this.loginState),this.loginState==i.LOGIN?this.loginHandler():this.registerHandler()},registerHandler:function(){var t=o.randomString(!1,8),e=this.userName.string,n=(this.userPass.string,new c);n.id=t,n.name=this.userName.string,n.pass=this.userPass.string,n.gold=0,n.vip=0,n.physics=0,s.getInstance().checkUserName(e)?Toast.show("用户已存在"):(s.getInstance().addUserData(n),s.getInstance().localStorage(),Toast.show("注册成功,请登陆"),this.loginState=i.LOGIN,this.refreshLoginView())},loginHandler:function(){var t=this.userName.string,e=this.userPass.string;""!=t?""!=e?(s.getInstance().initAllUsers(),s.getInstance().checkUserName(t)?(s.getInstance().initPlayerInfo(t),cc.director.loadScene("MenuScene")):Toast.show("您尚未注册，请先注册")):Toast.show("用户密码不能为空"):Toast.show("用户名不能为空!")},floatLabelTips:function(t){var e=cc.instantiate(this.label_eff);e.parent=this.node.parent,e.setPosition(0,0),e.getComponentInChildren(cc.Label).string=t;var n=cc.spawn(cc.moveBy(1,cc.v2(0,160)),cc.fadeTo(.5,0)),i=cc.sequence(n,cc.removeSelf());e.runAction(i)},onBackClick:function(){cc.loader.releaseResDir("/"),cc.director.loadScene("LogoScene")},refreshLoginView:function(){this.btn_show.string="登陆",this.label_show.string="登陆游戏"},refreshRegisterView:function(){this.btn_show.string="注册",this.label_show.string="注册游戏"},update:function(t){},lateUpdate:function(){},onEnable:function(){},onDisable:function(){},onDestory:function(){}}),cc._RF.pop()},{"./data/UserItem":"UserItem","./mgr/UserMgr":"UserMgr","./utils/StringUtils":"StringUtils"}],LogoScene:[function(t,e,n){"use strict";cc._RF.push(e,"280c3rsZJJKnZ9RqbALVwtK","LogoScene"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label}},onLoad:function(){this.loadBtnAudio(),this.preLoadScene()},loadBtnAudio:function(){cc.loader.loadRes("sound/btn_click"),cc.loader.setAutoRelease("sound/btn_click",!1)},preLoadScene:function(){cc.director.preloadScene("LoadingScene",function(){cc.log("LoadingScene加载完成")})},update:function(t){},onEnterClick:function(){var t=cc.loader.getRes("sound/btn_click");t&&cc.audioEngine.playEffect(t,!1),cc.director.loadScene("LoadingScene")}}),cc._RF.pop()},{}],MenuSceneCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"68115d1MgFNFbebwqnhaImQ","MenuSceneCtrl");var i=t("./utils/SoundUtils"),s=t("GlobalData"),o=t("./mgr/AudioMgr");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.initialize()},initialize:function(){this.preLoadScene();var t=cc.loader.getRes("sound/doing.mp3");"true"==i.getMusicOnOrOff()&&(0==s.enter_ui_first?this.audioID=o.getInstance().playMusic(t,!0):this.audioID?o.getInstance().resumeMusic():this.audioID=o.getInstance().playMusic(t,!0)),o.getInstance().setMusicVolum(.5)},preLoadScene:function(){cc.director.preloadScene("SlotMacScene",function(){cc.log("SlotMacScene加载完成")})},update:function(t){},onBtnClick:function(){cc.director.loadScene("SlotMacScene")},onBackClick:function(){o.getInstance().stopMusic(),cc.director.loadScene("LoginScene")}}),cc._RF.pop()},{"./mgr/AudioMgr":"AudioMgr","./utils/SoundUtils":"SoundUtils",GlobalData:"GlobalData"}],ResultShowCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"d5c2cAJmwFEwYy2Jox/68OC","ResultShowCtrl");var i=t("../utils/ScrollUtils"),s=t("../GlobalData");cc.Class({extends:cc.Component,properties:{layout_bg:{default:null,type:cc.Sprite},result_node:{default:null,type:cc.Sprite},reward_t:{default:null,type:cc.Label},audioResource:{default:null,type:cc.AudioSource}},onLoad:function(){this.initialization()},initialization:function(){var e=this;this.audioResource.loop=!0,this.audioResource.play(),this.layout_bg.node.on("touchend",function(t){e.audioResource.stop(),s.numberIndex=-1,cc.director.loadScene("SlotMacScene")},this),this.result_node.getComponent(cc.Animation).play()},start:function(){var t=s.getTimes(),e=s.getGold(),n=i.getScrollResult(e);this.setRewardCount(n+e+" x ("+t+")倍"),console.log("CongratulationCtrl.initialization.times.gold...",t,e)},setRewardCount:function(t){this.reward_t.string=t},update:function(t){},lateUpdate:function(){},onEnable:function(){},onDisable:function(){},onDestory:function(){}}),cc._RF.pop()},{"../GlobalData":"GlobalData","../utils/ScrollUtils":"ScrollUtils"}],ScrollCellCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"23e7epTDRdN+7fJrNKL+Db5","ScrollCellCtrl"),cc.Class({extends:cc.Component,properties:{num:{default:0,type:cc.Integer},speed:{default:0,type:cc.Integer},accele:{default:0,type:cc.Integer},labelNum:{default:null,type:cc.Label},numberOffsetX:{default:0,type:cc.Integer}},onLoad:function(){this.anchorY=0},initNumber:function(t){this.num=t,this.speed=0,this.accele=0,this.refreshLabelView(t)},start:function(){},getNumber:function(){return this.num},setNumber:function(t){this.num=t,this.refreshLabelView(t)},refreshLabelView:function(t){this.labelNum.string=t},setSpeed:function(t){this.speed=t},getSpeed:function(){return this.speed},update:function(t){},lateUpdate:function(){},onEnable:function(){},onDisable:function(){},onDestory:function(){}}),cc._RF.pop()},{}],ScrollGroupView:[function(t,e,n){"use strict";cc._RF.push(e,"40ad8GASNBKpKQZcx0MjXQK","ScrollGroupView");var i=t("./utils/ScrollUtils");cc.Class({extends:cc.Component,properties:{scrollCell:cc.Prefab,reelCount:{default:5,type:cc.Integer},reelArr:{default:[],type:[cc.Layout]},xOffset:{default:0,type:cc.Integer},yOffset:{default:0,type:cc.Integer},xInterval:{default:0,type:cc.Integer},_start:!1,completeCallback:null,endNum:{default:0,type:cc.Integer},startNum:{default:0,type:cc.Integer}},onLoad:function(){this.initialize()},start:function(){},initialize:function(){this.initData(),this.initReel()},initData:function(){this.reelCount=5,this.reelArr=[],this.xOffset=42,this.yOffset=20,this.xInterval=43,this.completeCallback=null,this.startNum=0,this.endNum=0,this.scrollItemCtrl=null},initReel:function(){for(var t=this.reelCount,e=1;e<=t;e++){var n=cc.instantiate(this.scrollCell);this.node.addChild(n),n.width,n.height;var i=73*e-219;n.setPosition(i,0);var s=n.getComponent("ScrollItemCtrl");this.reelArr.push(s)}},startMove:function(){if(!0!==this._start){this._start=!0;for(var t=0;t<this.reelArr.length;t++){var e=this.getEndNumByIndex(t);this.reelArr[t].setEndNum(e),this.reelArr[t].setHighTime(5*(this.reelCount-t)),this.reelArr[t].setCompleteCallback(this.reelCompleteCallback.bind(this)),this.reelArr[t].startMove()}}},reset:function(){this._start=!1;for(var t=0;t<this.reelArr.length;t++)this.reelArr[t].reset()},setStartNum:function(t){t=t||0,this.startNum=parseInt(t)},setEndNum:function(t){t=t||0,this.endNum=parseInt(t)},reelCompleteCallback:function(){this.checkComplete()&&this.completeCallback&&this.completeCallback(),this._start=!1},checkComplete:function(){for(var t=this.reelArr.length,e=0;e<t;e++)if(!1===this.reelArr[e].isComplete())return!1;return!0},setCompleteCallback:function(t){this.completeCallback=t},refreshUI:function(){},update:function(t){this.updateReel(t)},updateReel:function(t){for(var e=this.reelArr.length,n=0;n<e;n++)this.reelArr[n].updateFrame(t)},getEndNumByIndex:function(t){return i.getValueAtPos(this.endNum,this.reelCount-t)},getStartNumByIndex:function(t){return i.getValueAtPos(this.startNum,this.reelCount-t)},lateUpdate:function(){},onEnable:function(){},onDisable:function(){},onDestory:function(){}}),cc._RF.pop()},{"./utils/ScrollUtils":"ScrollUtils"}],ScrollItemCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"1597dXb7KRC5J0kGEFsM7Yn","ScrollItemCtrl");var i=cc.Enum({READY:"READY",SPEED_UP:"SPEED_UP",SPEED_FASTEST:"SPEED_FASTEST",SPEED_DOWN:"SPEED_DOWN",PRE_STOP:"PRE_STOP"}),r=t("GlobalData");e.exports={EReelStateType:i},cc.Class({extends:cc.Component,properties:{cellNum:{default:3,type:cc.Integer},numberLayout:{default:null,type:cc.Layout},positionArr:{default:[],type:[cc.Integer]},numberArr:{default:[],type:[cc.Integer]},distance:{default:0,type:cc.Integer},_pause:!1,speed:{default:0,type:cc.Integer},accelerate:{default:0,type:cc.Integer},upAccel:{default:0,type:cc.Integer},downAccel:{default:0,type:cc.Integer},preStopSpeed:{default:0,type:cc.Integer},maxSpeed:{default:50,type:cc.Integer},highSpeedDuration:{default:0,type:cc.Integer},curHightSpeedDuration:{default:0,type:cc.Integer},endNum:{default:0,type:cc.Integer},startNum:{default:0,type:cc.Integer},state:{default:i.READY,type:i},numHeight:{default:0,type:cc.Integer},autoStop:!0,completeCallback:null},onLoad:function(){this.initialize()},start:function(){},initialize:function(){this.initData(),this.initRender()},initData:function(){this.positionArr=[],this.numberArr=[],this.accelerate=0,this.upAccel=200,this.downAccel=-140,this.preStopSpeed=100,this.maxSpeed=300,this.state=i.READY,this.numHeight=98,this.highSpeedDuration=20,this.autoStop=!0,this.resetData()},initRender:function(){this.createScrollNumber()},createScrollNumber:function(){r.numberIndex++;var t=r.numberIndex,e=r.getGold().toString().split("")[t]-1||Math.floor(10*Math.random());this.setStartNum(e);for(var n=e-1,i=this.node.getComponentsInChildren("ScrollCellCtrl"),s=this.node.getComponentsInChildren("cc.Layout"),o=1;o<=this.cellNum;o++){s[o];var c=i[o-1],a=(n+o)%10;c.initNumber(a),this.positionArr.push(c.node.getPosition()),this.numberArr.push(c)}this.refreshPosition()},resetData:function(){this._pause=!0,this.accelerate=0,this.speed=0,this.endNum=0,this.startNum=Math.floor(10*Math.random()),this.curHightSpeedDuration=0,this.state=i.READY},initNumber:function(t){this.num=t,this.speed=0,this.accele=0,this.refreshLabelView(t)},setHighTime:function(t){this.highSpeedDuration=t},setEndNum:function(t){t=t||0,this.endNum=t},setStartNum:function(t){t=t||0,this.startNum=t},setCompleteCallback:function(t){this.completeCallback=t},isComplete:function(){return this.state===i.READY},reset:function(){this.resetData(),this.refreshUI()},refreshUI:function(){for(var t=0;t<this.numberArr.length;t++)this.numberArr[t].node.y=(t-1)*this.numHeight,this.numberArr[t].setNumber(0)},changeState:function(t){if(this.state!==t)switch(this.state=t,t){case i.READY:this.resetData();break;case i.SPEED_UP:this.accelerate=this.upAccel*(1-Math.random()/10);break;case i.SPEED_FASTEST:this.accelerate=0,this.curHightSpeedDuration=0;break;case i.SPEED_DOWN:this.accelerate=this.downAccel*(1-Math.random()/10);break;case i.PRE_STOP:this.accelerate=0}},updateState:function(t){switch(this.state){case i.READY:break;case i.SPEED_UP:this.speed>=this.maxSpeed&&(this.speed=this.maxSpeed,this.changeState(i.SPEED_FASTEST));break;case i.SPEED_FASTEST:this.autoStop&&(this.curHightSpeedDuration+=t,this.curHightSpeedDuration>=this.highSpeedDuration&&(this.curHightSpeedDuration=0,this.changeState(i.SPEED_DOWN)));break;case i.SPEED_DOWN:this.speed<=this.preStopSpeed&&(this.speed=this.preStopSpeed,this.changeState(i.PRE_STOP));break;case i.PRE_STOP:for(var e=0;e<this.numberArr.length;e++)if(this.numberArr[e].getNumber()===this.endNum&&0<=this.numberArr[e].node.y+this.speed*t&&(this.numberArr[e].node.y<=0||Math.floor(this.numberArr[e].node.y)<2))return this.numberArr[e].node.y=0,this.changeState(i.READY),void(this.completeCallback&&this.completeCallback())}},refreshLabelView:function(t){this.labelNum.setString(t)},setSpeed:function(t){this.speed=t},getSpeed:function(){return this.speed},refreshPosition:function(){for(var t=this.numberArr.length,e=0;e<t;e++){var n=this.numberArr[e],i=this.positionArr[e];n.node.setPosition(i)}},startMove:function(){this.state===i.READY&&(this._pause=!1,this.changeState(i.SPEED_UP))},updateMove:function(t){this.speed+=this.accelerate*t;var e=this.speed*t;this.updatePos(e)},updatePos:function(t){var e=this.numberArr.length;if(!(e<=0)){for(var n=0;n<this.numberArr.length;n++)this.numberArr[n].node.y-=t;var i=Math.max(0,this.numberArr[e-1].node.y);for(n=0;n<this.numberArr.length;n++)if(this.numberArr[n].node.y<-this.numHeight){this.numberArr[n].node.y=i+this.numHeight,i=this.numberArr[n].node.y;var s=this.numberArr[n].getNumber();(s-=e)<=0&&(s+=10),s%=10,this.numberArr[n].setNumber(s)}this.numberArr.sort(function(t,e){return t.node.y-e.node.y})}},updateFrame:function(t){this._pause||(this.updateState(t),this.updateMove(t))},lateUpdate:function(){},onEnable:function(){},onDisable:function(){},onDestory:function(){}}),cc._RF.pop()},{GlobalData:"GlobalData"}],ScrollUtils:[function(t,e,n){"use strict";cc._RF.push(e,"37505WrGdFIW7HrrXCP052o","ScrollUtils");var l=cc.Enum({ZERO:0,ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,SIX:6,SEVEN:7,EIGHT:8,NINE:9});e.exports={ERewardType:l};var i={getValueAtPos:function(t,e){if(!t||!e)return 0;var n=Math.pow(10,e-1),i=Math.floor(t)%(10*n);return Math.floor(i/n)},changeBigTenThousand:function(t){return t<1e4?""+t:Math.floor(t/1e4)+Lang.tenThousand},changeBigMillionThousand:function(t){return t<1e5?""+t:Math.floor(t/1e4)+Lang.tenThousand},getFiveDigitNumber:function(){return Math.floor(1e5*Math.random()+1e4)},getScrollResult:function(t){for(var e=this.getValueAtPos(t,1),n=this.getValueAtPos(t,2),i=this.getValueAtPos(t,3),s=this.getValueAtPos(t,4),o=this.getValueAtPos(t,5),c=[e,n,i,s,o],a=0,r=0;r<c.length;r++)c[r]==l.EIGHT&&a++;return 5==a?"一等奖":4==a?"二等奖":3==a?"三等奖":i==l.THREE||i==l.SIX||i==l.NINE?"四等奖":o==l.SEVEN||o==l.TWO||o==l.FIVE?"五等奖":o==l.SIX||o==l.THREE||o==l.NINE?"六等奖":o==l.ZERO||o==l.ONE||o==l.FOUR?"七等奖":"很遗憾,未中任何奖"}};e.exports=i,cc._RF.pop()},{}],SlotMachineCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"dfd87T3Iu5Hu4HNNJdhJORc","SlotMachineCtrl");var i=t("./utils/ScrollUtils"),s=t("./utils/SoundUtils"),o=t("GlobalData"),c=t("./mgr/AudioMgr"),a=t("./mgr/UserMgr");cc.Class({extends:cc.Component,properties:{btn_back:{default:null,type:cc.Button},btn_option:{default:null,type:cc.Button},btn_record:{default:null,type:cc.Button},btn_help:{default:null,type:cc.Button},btn_charge:{default:null,type:cc.Button},btn_add:{default:null,type:cc.Button},radioToggle:{default:[],type:cc.Toggle},nameLabel:{default:null,type:cc.Label},goldLabel:{default:null,type:cc.Label},physicsLabel:{default:null,type:cc.Label},vipLabel:{default:null,type:cc.Label},costLabel:{default:null,type:cc.Label}},onLoad:function(){this.initData(),this.initialize()},initialize:function(){var t=cc.loader.getRes("sound/doing.mp3");"true"==s.getMusicOnOrOff()&&(0==o.enter_ui_first?this.audioID=c.getInstance().playMusic(t,!0):this.audioID?c.getInstance().resumeMusic():this.audioID=c.getInstance().playMusic(t,!0)),c.getInstance().setMusicVolum(.5);var e=cc.find("Canvas/RootNode/Layout_cell_group");this.reelGroupView=e.getComponent("ScrollGroupView"),this.refreshCost(this.cost),this.updateToggleState(),this.refreshUserInfo(),this.refreshSysNotice(),o.enter_ui_first=!0},initData:function(){this.cost=5e4,this.totalCost=5e4,this.getGold=0,this.totalGold=0,this.times=[1,2,5,10],this.playerInfo=a.getInstance().getPlayerInfo(),this.audioID=0,this.scrollingAudioId=0,this.audioSource=cc.loader.getRes("sound/btn_click.wav"),this.scrollAudioSource=cc.loader.getRes("sound/scrolling.mp3")},refreshSysNotice:function(){if(1==o.isGetReward){var t=o.getGold(),e=i.getScrollResult(t),n="恭喜"+this.playerInfo.id+"获得"+e;SysNotice.show(n),o.isGetReward=!1}},updateToggleState:function(){var t=o.getIndex(),e=this.radioToggle[t];e&&(e.isChecked=!0)},refreshCost:function(t){this.costLabel.string=t},refreshUserGold:function(t){this.goldLabel.string=t},refreshUserPhysics:function(t){this.physicsLabel.string=t},refreshUserVip:function(t){this.vipLabel.string=t},refreshUserInfo:function(){this.nameLabel.string=this.playerInfo.id,this.goldLabel.string=this.playerInfo.gold,this.refreshUserGold(this.playerInfo.gold),this.refreshUserPhysics(this.playerInfo.physics),this.refreshUserVip(this.playerInfo.vip)},rollCompleteCallBack:function(){c.getInstance().stopMusic(),o.isGetReward=!0;var t=o.getGold(),e=o.getTimes();this.totalGold=e*t,this.playerInfo.addGold(this.totalGold),a.getInstance().savePlayerInfo(),cc.director.loadScene("ResultShow")},onBackClick:function(){cc.audioEngine.stopMusic(),cc.director.loadScene("MenuScene"),o.numberIndex=-1},onOptionClick:function(){if(0!=this.reelGroupView.isValid){var t=a.getInstance().checkGold(this.totalCost);if(console.log("SlotMachineCtrl.onOptionClick.bOption",t),0!=t)if(this.playerInfo.physics<=0)Toast.show("体力不足,请补充体力");else{this.playerInfo.subGold(this.totalCost),this.refreshUserGold(this.playerInfo.gold),this.playerInfo.subPhysics(1),this.refreshUserPhysics(this.playerInfo.physics),c.getInstance().playMusic(this.scrollAudioSource,!0);var e=i.getFiveDigitNumber();this.reelGroupView.setEndNum(e),this.reelGroupView.startMove(),o.setGold(e),console.log("SlotMachineCtrl.onOptionClick.randomNum...",e)}else Toast.show("金币不足,请充值")}},onRecordClick:function(){cc.director.loadScene("UIRecord")},onHelpClick:function(){cc.director.loadScene("UIHelp")},onChargeClick:function(){cc.director.loadScene("UICharge")},onRankClick:function(){cc.director.loadScene("UIRank")},onToggleClick:function(t){cc.audioEngine.playEffect(this.audioSource,!1);var e=this.radioToggle.indexOf(t),n=this.times[e];o.setTimes(n),o.setIndex(e);var i=n*this.cost;this.refreshCost(i),this.totalCost=i,console.log("倍数x1.....",e)},onSettingClick:function(){cc.director.loadScene("UISetting")},onAddClick:function(){this.playerInfo.addPhysics(10),this.refreshUserPhysics(10),a.getInstance().savePlayerInfo()},start:function(){var t=this;this.reelGroupView.setCompleteCallback(function(){t.rollCompleteCallBack()})},update:function(t){0!=this.reelGroupView.isValid&&this.reelGroupView.update(t)},lateUpdate:function(){},onEnable:function(){},onDisable:function(){},onDestory:function(){}}),cc._RF.pop()},{"./mgr/AudioMgr":"AudioMgr","./mgr/UserMgr":"UserMgr","./utils/ScrollUtils":"ScrollUtils","./utils/SoundUtils":"SoundUtils",GlobalData:"GlobalData"}],SoundUtils:[function(t,e,n){"use strict";cc._RF.push(e,"97acadDpqBNqreqg+ByKPvE","SoundUtils");var i={getEffOnOrOff:function(){return cc.sys.localStorage.getItem("EffIsOn")},setEffOnOrOff:function(t){cc.sys.localStorage.setItem("EffIsOn",t)},getMusicOnOrOff:function(){return cc.sys.localStorage.getItem("MusicIsOn")},setMusicOnOrOff:function(t){cc.sys.localStorage.setItem("MusicIsOn",t)},getSndVolum:function(){return cc.sys.localStorage.getItem("Volum")},setSndVolum:function(t){cc.sys.localStorage.setItem("Volum",t)}};e.exports=i,cc._RF.pop()},{}],StringUtils:[function(t,e,n){"use strict";cc._RF.push(e,"e5117UUak1OzbuAddxm4KtJ","StringUtils");var i={randomString:function(t,e,n){var i="",s=e,o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];t&&(s=Math.round(Math.random()*(n-e))+e);for(var c=0;c<s;c++)i+=o[Math.round(Math.random()*(o.length-1))];return i}};e.exports=i,cc._RF.pop()},{}],UIBaseCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"c8d35hj1zpFeLC3qQfos8nu","UIBaseCtrl"),cc.Class({extends:cc.Component,properties:{title:{default:null,type:cc.Label}},onLoad:function(){this.initialization()},initialization:function(){},start:function(){},setTitle:function(t){this.title.string=t||""},getTitle:function(){return this.title},update:function(t){},lateUpdate:function(){},onEnable:function(){},onDisable:function(){},onDestory:function(){}}),cc._RF.pop()},{}],UIChargeCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"17773/4DnlF2qQjAeIvAvx7","UIChargeCtrl");var i=t("../mgr/UserMgr");cc.Class({extends:cc.Component,properties:{itemTemplate:{default:null,type:cc.Node},scrollView:{default:null,type:cc.ScrollView},spawnCount:0,totalCount:0,spacing:0,bufferZone:0},onLoad:function(){this.initialize()},initialize:function(){this.initData(),this.initView()},initData:function(){this.content=this.scrollView.content,this.items=[],this.updateTimer=0,this.updateInterval=.2,this.lastContentPosY=0,this.chargeConfigArr=[]},initView:function(){var r=this;this.content.height=this.totalCount*(this.itemTemplate.height+this.spacing)+this.spacing;for(var l=cc.loader.getRes("data/ChargeConfig"),t=function(t){var e=cc.instantiate(r.itemTemplate);r.content.addChild(e),e.setPosition(0,-e.height*(.5+t)-r.spacing*(t+1));var n=t+"",i=l.json[n],s=i.desc,o=i.value,c=i.vip,a=e.getComponent("UIChargeItemCtrl");a.initItem(t,t,s,o,c),a.setCallBack(function(){r.onChargeCompele(a.goldValue)}),r.items.push(e),r.chargeConfigArr.push(i)},e=0;e<this.spawnCount;++e)t(e)},start:function(){cc.find("Canvas/ui_base").getComponent("UIBaseCtrl").setTitle("充值。。。")},onChargeCompele:function(t){var e=i.getInstance().getPlayerInfo();e.addGold(t);var n=this.getVipValue(t);e.addVip(n),console.log("UIChargeCtrl.onChargeCompele.playerInfo.....",e),i.getInstance().savePlayerInfo(),Toast.show("充值成功......")},getVipValue:function(t){for(var e=0,n=0;n<this.chargeConfigArr.length;n++){var i=this.chargeConfigArr[n];if(console.log("UIChargeCtrl.getVipValue.....",i.value,t),i.gold==t){e=i.vip;break}}return e},backClick:function(){cc.director.loadScene("SlotMacScene")},getPositionInView:function(t){var e=t.parent.convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},update:function(t){if(this.updateTimer+=t,!(this.updateTimer<this.updateInterval)){this.updateTimer=0;for(var e=this.items,n=this.bufferZone,i=this.scrollView.content.y<this.lastContentPosY,s=(this.itemTemplate.height+this.spacing)*e.length,o=0;o<e.length;++o){var c=this.getPositionInView(e[o]),a=this.chargeConfigArr[o],r=a.desc||"",l=a.value||0,u=a.vip||0;if(i){if(c.y<-n&&e[o].y+s<0){e[o].y=e[o].y+s;var h=e[o].getComponent("UIChargeItemCtrl"),d=h.itemID-e.length;null!=r&&null!=r&&h.updateItem(d,r,l,u)}}else if(c.y>n&&e[o].y-s>-this.content.height){e[o].y=e[o].y-s;var p=e[o].getComponent("UIChargeItemCtrl"),f=p.itemID+e.length;null!=r&&null!=r&&p.updateItem(f,r,l,u)}}this.lastContentPosY=this.scrollView.content.y}},scrollEvent:function(t,e){},lateUpdate:function(){},onEnable:function(){},onDisable:function(){},onDestory:function(){}}),cc._RF.pop()},{"../mgr/UserMgr":"UserMgr"}],UIChargeItemCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"75e07IGlyZBQblv1WPk01Wf","UIChargeItemCtrl"),cc.Class({extends:cc.Component,properties:{icon:{default:null,type:cc.Sprite},label:{default:null,type:cc.Label},label_btn:{default:null,type:cc.Label},btn:{default:null,type:cc.Button},tmplID:0,itemID:0},onLoad:function(){var t=this;this.btn.node.on("touchend",function(){console.log("Item "+this.itemID+" clickedgoldValue == ",this.goldValue),Alert.show("您将充值"+this.chargeValue+"元",t.callBack,this.goldValue,!0)},this)},initData:function(){this.chargeValue=0,this.goldValue=0,this.vipValue=0,this.callBack=null},setCallBack:function(t){this.callBack=t},initItem:function(t,e,n,i,s){this.tmplID=t,this.itemID=e,this.chargeValue=i,this.goldValue=n.substring(3),this.vipValue=s,this.label.string=n||"",this.label_btn.string="充值"+i+"元(V"+s+")"},setString:function(t){this.label.string=t},updateItem:function(t,e,n,i){this.itemID=t,this.chargeValue=n,this.goldValue=e.substring(3),this.vipValue=i,this.label.string=e||"",this.label_btn.string="充值"+n+"元(V"+i+")"}}),cc._RF.pop()},{}],UIChatCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"912589+N25EXZPvx/25WDEh","UIChatCtrl");var i=t("../mgr/ChatMgr"),s=t("../mgr/UserMgr");cc.Class({extends:cc.Component,properties:{itemTemplate:{default:null,type:cc.Node},scrollView:{default:null,type:cc.ScrollView},spawnCount:0,totalCount:0,spacing:0,bufferZone:0,inputEditBox:{default:null,type:cc.EditBox},sendButton:{default:null,type:cc.Button}},onLoad:function(){this.initialize()},initialize:function(){this.initData(),this.initView()},initData:function(){this.content=this.scrollView.content,this.items=[],this.updateTimer=0,this.updateInterval=2,this.lastContentPosY=0},initView:function(){this.content.height=this.totalCount*(this.itemTemplate.height+this.spacing)+this.spacing,i.getInstance().initData(),cc.loader.getRes("data/ChatConfig");for(var t=0;t<this.spawnCount;++t){var e=cc.instantiate(this.itemTemplate);this.content.addChild(e),e.setPosition(0,-e.height*(.5+t)-this.spacing*(t+1));var n=i.getInstance().getOneData();e.getComponent("UIChatItemCtrl").initItem(t,t,n),this.items.push(e),console.log("UIChatCtrl.initView.itemXY",e.y)}},start:function(){},onSendClick:function(){var t=s.getInstance().getPlayerInfo().id,e="input talk content..."==this.inputEditBox.string?"":this.inputEditBox.string,n=i.getInstance().getPlayerTalk(t,e);null!=n?this.addNextMsg(n):Toast.show("聊天内容不能为空")},getPositionInView:function(t){var e=t.parent.convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},update:function(t){if(this.updateTimer+=t,!(this.updateTimer<this.updateInterval)){var e=i.getInstance().getOneData();this.addNextMsg(e),this.updateTimer=0}},addNextMsg:function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];n.setPosition(0,n.y+n.height+this.spacing),n.y+n.height+this.spacing*(2-e)+3>=this.content.y&&this.content.removeChild(n)}var i=cc.instantiate(this.itemTemplate);this.content.addChild(i),i.setPosition(0,2.5*-i.height-3*this.spacing),i.getComponent("UIChatItemCtrl").initItem(0,0,t),this.items.splice(0,1),this.items.push(i)},lateUpdate:function(){},onEnable:function(){},onDisable:function(){},onDestory:function(){}}),cc._RF.pop()},{"../mgr/ChatMgr":"ChatMgr","../mgr/UserMgr":"UserMgr"}],UIChatItemCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"45daf3xQhdMb7XY4czo64bC","UIChatItemCtrl"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.RichText},tmplID:0,itemID:0},onLoad:function(){this.node.on("touchend",function(){console.log("Item "+this.itemID+" clicked")},this)},initItem:function(t,e,n){this.tmplID=t,this.itemID=e,this.label.string=n.name+n.speak},setString:function(t){this.label.string=t},updateItem:function(t,e){this.itemID=t,this.label.string=e.name+e.speak}}),cc._RF.pop()},{}],UIHelpCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"2e6d5c4owBM1693r3J61sK4","UIHelpCtrl"),cc.Class({extends:cc.Component,properties:{itemTemplate:{default:null,type:cc.Node},scrollView:{default:null,type:cc.ScrollView},spawnCount:0,totalCount:0,spacing:0,bufferZone:0},onLoad:function(){this.initialize()},initialize:function(){this.initData(),this.initView()},initData:function(){this.content=this.scrollView.content,this.items=[],this.updateTimer=0,this.updateInterval=.2,this.lastContentPosY=0,this.helpConfigArr=[]},initView:function(){this.content.height=this.totalCount*(this.itemTemplate.height+this.spacing)+this.spacing;for(var t=cc.loader.getRes("data/HelpConfig"),e=0;e<this.spawnCount;++e){var n=cc.instantiate(this.itemTemplate);this.content.addChild(n),n.setPosition(0,-n.height*(.5+e)-this.spacing*(e+1));var i=e+"",s=t.json[i];n.getComponent("UIHelpItemCtrl").initItem(e,e,s),this.items.push(n),this.helpConfigArr.push(s)}},start:function(){cc.find("Canvas/ui_base").getComponent("UIBaseCtrl").setTitle("帮助说明")},backClick:function(){cc.director.loadScene("SlotMacScene")},getPositionInView:function(t){var e=t.parent.convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},update:function(t){if(this.updateTimer+=t,!(this.updateTimer<this.updateInterval)){this.updateTimer=0;for(var e=this.items,n=this.bufferZone,i=this.scrollView.content.y<this.lastContentPosY,s=(this.itemTemplate.height+this.spacing)*e.length,o=0;o<e.length;++o){var c=this.getPositionInView(e[o]),a=this.helpConfigArr[o][o+""]||"";if(i){if(c.y<-n&&e[o].y+s<0){e[o].y=e[o].y+s;var r=e[o].getComponent("UIHelpItemCtrl"),l=r.itemID-e.length;null!=a&&null!=a&&r.updateItem(l,a)}}else if(c.y>n&&e[o].y-s>-this.content.height){e[o].y=e[o].y-s;var u=e[o].getComponent("UIHelpItemCtrl"),h=u.itemID+e.length;null!=a&&null!=a&&u.updateItem(h,a)}}this.lastContentPosY=this.scrollView.content.y}},scrollEvent:function(t,e){},lateUpdate:function(){},onEnable:function(){},onDisable:function(){},onDestory:function(){}}),cc._RF.pop()},{}],UIHelpItemCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"fac29XpuYVNq4M7WXVqx61I","UIHelpItemCtrl"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},tmplID:0,itemID:0},onLoad:function(){this.node.on("touchend",function(){console.log("Item "+this.itemID+" clicked")},this)},initItem:function(t,e,n){this.tmplID=t,this.itemID=e,this.label.string=n||""},setString:function(t){this.label.string=t},updateItem:function(t,e){this.itemID=t,this.label.string=e}}),cc._RF.pop()},{}],UIRankCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"1cc9bniOAhIm45gP4ISjml5","UIRankCtrl"),cc.Class({extends:cc.Component,properties:{itemTemplate:{default:null,type:cc.Node},scrollView:{default:null,type:cc.ScrollView},spawnCount:0,totalCount:0,spacing:0,bufferZone:0},onLoad:function(){this.initialize()},initialize:function(){this.initData(),this.initView()},initData:function(){this.content=this.scrollView.content,this.items=[],this.updateTimer=0,this.updateInterval=.2,this.lastContentPosY=0,this.rankConfigArr=[]},initView:function(){this.content.height=this.totalCount*(this.itemTemplate.height+this.spacing)+this.spacing;for(var t=cc.loader.getRes("data/RankConfig"),e=0;e<this.spawnCount;++e){var n=cc.instantiate(this.itemTemplate);this.content.addChild(n),n.setPosition(0,-n.height*(.5+e)-this.spacing*(e+1));var i=e+"",s=n.getComponent("UIRankItemCtrl"),o=t.json[i];console.log("UIRankCtrl.initView...key....",i,o),s.initItem(e,e,o),this.items.push(n),this.rankConfigArr.push(t.json)}},start:function(){cc.find("Canvas/ui_base").getComponent("UIBaseCtrl").setTitle("排行榜。。。")},backClick:function(){cc.director.loadScene("SlotMacScene")},getPositionInView:function(t){var e=t.parent.convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},update:function(t){if(this.updateTimer+=t,!(this.updateTimer<this.updateInterval)){this.updateTimer=0;for(var e=this.items,n=this.bufferZone,i=this.scrollView.content.y<this.lastContentPosY,s=(this.itemTemplate.height+this.spacing)*e.length,o=0;o<e.length;++o){var c=this.getPositionInView(e[o]),a=this.rankConfigArr[o][o+""];if(i){if(c.y<-n&&e[o].y+s<0){e[o].y=e[o].y+s;var r=e[o].getComponent("UIRankItemCtrl"),l=r.itemID-e.length;null!=a&&null!=a&&r.updateItem(l,a)}}else if(c.y>n&&e[o].y-s>-this.content.height){e[o].y=e[o].y-s;var u=e[o].getComponent("UIRankItemCtrl"),h=u.itemID+e.length;null!=a&&null!=a&&u.updateItem(h,a)}}this.lastContentPosY=this.scrollView.content.y}},scrollEvent:function(t,e){},lateUpdate:function(){},onEnable:function(){},onDisable:function(){},onDestory:function(){}}),cc._RF.pop()},{}],UIRankItemCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"a8ce3hrDrJGoajN2bq+kdru","UIRankItemCtrl"),cc.Class({extends:cc.Component,properties:{head_icon:{default:null,type:cc.Sprite},label_nick:{default:null,type:cc.Label},label_gold:{default:null,type:cc.Label},label_rank:{default:null,type:cc.Label},tmplID:0,itemID:0},onLoad:function(){},initData:function(){},initItem:function(t,e,n){this.tmplID=t;var i="ui/icon/head_"+((this.itemID=e)+1)+".png",s=new cc.SpriteFrame(i);this.head_icon.spriteFrame=s,this.label_nick.string=n.nick||"",this.label_gold.string=n.gold||0,this.label_rank.string=n.rank||0},setString:function(t){this.label.string=t},updateItem:function(t,e){this.itemID=t,this.label_nick.string=e.nick,this.label_gold.string=e.gold,this.label_rank.string=e.rank}}),cc._RF.pop()},{}],UIRecordCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"92f2bocV+9DCJLpGoN5EEXn","UIRecordCtrl"),cc.Class({extends:cc.Component,properties:{itemTemplate:{default:null,type:cc.Node},scrollView:{default:null,type:cc.ScrollView},spawnCount:0,totalCount:0,spacing:0,bufferZone:0},onLoad:function(){this.initialize()},initialize:function(){this.initData(),this.initView()},initData:function(){this.content=this.scrollView.content,this.items=[],this.updateTimer=0,this.updateInterval=.2,this.lastContentPosY=0,this.recordConfigArr=[]},initView:function(){this.content.height=this.totalCount*(this.itemTemplate.height+this.spacing)+this.spacing;for(var t=cc.loader.getRes("data/RecordConfig"),e=0;e<this.spawnCount;++e){var n=cc.instantiate(this.itemTemplate);this.content.addChild(n),n.setPosition(0,-n.height*(.5+e)-this.spacing*(e+1));var i=e+"",s=t.json[i];n.getComponent("UIRecordItemCtrl").initItem(e,e,s),this.items.push(n),this.recordConfigArr.push(s)}},start:function(){cc.find("Canvas/ui_base").getComponent("UIBaseCtrl").setTitle("帮助说明")},backClick:function(){cc.director.loadScene("SlotMacScene")},getPositionInView:function(t){var e=t.parent.convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},update:function(t){if(this.updateTimer+=t,!(this.updateTimer<this.updateInterval)){this.updateTimer=0;for(var e=this.items,n=this.bufferZone,i=this.scrollView.content.y<this.lastContentPosY,s=(this.itemTemplate.height+this.spacing)*e.length,o=0;o<e.length;++o){var c=this.getPositionInView(e[o]),a=this.recordConfigArr[o][o+""]||"";if(i){if(c.y<-n&&e[o].y+s<0){e[o].y=e[o].y+s;var r=e[o].getComponent("UIRecordItemCtrl"),l=r.itemID-e.length;null!=a&&null!=a&&r.updateItem(l,a)}}else if(c.y>n&&e[o].y-s>-this.content.height){e[o].y=e[o].y-s;var u=e[o].getComponent("UIRecordItemCtrl"),h=u.itemID+e.length;null!=a&&null!=a&&u.updateItem(h,a)}}this.lastContentPosY=this.scrollView.content.y}},scrollEvent:function(t,e){},lateUpdate:function(){},onEnable:function(){},onDisable:function(){},onDestory:function(){}}),cc._RF.pop()},{}],UIRecordItemCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"5a0eao5KHNBrazqmr9FOjfu","UIRecordItemCtrl"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},tmplID:0,itemID:0},onLoad:function(){this.node.on("touchend",function(){console.log("Item "+this.itemID+" clicked")},this)},initItem:function(t,e,n){this.tmplID=t,this.itemID=e,this.label.string=this.label.string=n||""},setString:function(t){this.label.string=t},updateItem:function(t,e){this.itemID=t,this.label.string=this.label.string=e||""}}),cc._RF.pop()},{}],UISettingCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"efd2ftheFFG1rIzl7TgCXMP","UISettingCtrl");var i=t("../utils/SoundUtils"),s=t("../mgr/AudioMgr"),o=t("../mgr/UserMgr");cc.Class({extends:cc.Component,properties:{sndEffToggle:{default:null,type:cc.Toggle},sndMusicToggle:{default:null,type:cc.Toggle},slider:{default:null,type:cc.Slider}},onLoad:function(){this.initialize()},initialize:function(){console.log("UISettingCtrl.initialize.slider...",this.slider);var t=i.getSndVolum(),e="true"==i.getEffOnOrOff(),n="true"==i.getMusicOnOrOff();this.sndEffToggle&&(this.sndEffToggle.isChecked=e,console.log("UISettingCtrl.initialize.bEffOn...",e)),this.sndMusicToggle&&(this.sndMusicToggle.isChecked=n),console.log("UISettingCtrl.initialize.slider.audioValue...",t),this.slider.progress=t},initToggle:function(){},start:function(){cc.find("Canvas/ui_base").getComponent("UIBaseCtrl").setTitle("游戏设置")},onCheckSndEffClick:function(t){i.setEffOnOrOff(t.isChecked),t.isChecked?cc.audioEngine.resumeAllEffects():cc.audioEngine.pauseAllEffects()},onCheckSndMusicClick:function(t){i.setMusicOnOrOff(t.isChecked),t.isChecked?cc.audioEngine.resumeMusic():cc.audioEngine.pauseMusic()},onSliderSndVolumeClick:function(t,e){var n=t.progress;i.setSndVolum(n),s.getInstance().setMusicVolum(n),s.getInstance().setEffectVolume(n),console.log("UISettingCtrl.onSliderSndVolumeClick.....",t.progress,e)},onClearDataClick:function(){o.getInstance().removeUserData(),Toast.show("本地数据已清除!")},backClick:function(){cc.director.loadScene("SlotMacScene")},update:function(t){},lateUpdate:function(){},onEnable:function(){},onDisable:function(){},onDestory:function(){}}),cc._RF.pop()},{"../mgr/AudioMgr":"AudioMgr","../mgr/UserMgr":"UserMgr","../utils/SoundUtils":"SoundUtils"}],UserItem:[function(t,e,n){"use strict";cc._RF.push(e,"dbb1aWhzHdCXIWaFLCi6Ap1","UserItem");var i=cc.Class({name:"UserItem",properties:{_id:"null",_name:"",_pass:0,_gold:{default:0,type:cc.Integer},_physics:0,_vip:0,id:{get:function(){return this._id},set:function(t){this._id=t}},name:{get:function(){return this._name},set:function(t){this._name=t}},pass:{get:function(){return this._pass},set:function(t){this._pass=t}},gold:{get:function(){return parseInt(this._gold)},set:function(t){this._gold=parseInt(t)}},physics:{get:function(){return parseInt(this._physics)},set:function(t){this._physics=parseInt(t)}},vip:{get:function(){return this._vip},set:function(t){this._vip=parseInt(t)}}},ctor:function(){},addGold:function(t){this._gold+=parseInt(t)},subGold:function(t){this._gold-=parseInt(t)},addVip:function(t){this._vip+=parseInt(t)},addPhysics:function(t){this._physics+=parseInt(t)},subPhysics:function(t){this._physics-=parseInt(t)}});e.exports=i,cc._RF.pop()},{}],UserMgr:[function(t,e,n){"use strict";cc._RF.push(e,"3483c8ZZyJEoZd2X116h6Ky","UserMgr");var i=t("../data/UserItem"),s=(t("../utils/StringUtils"),cc.Class({name:"UserMgr",properties:{},ctor:function(){this.dataArr=[],this.playerInfo=null},addUserData:function(t){cc.sys.localStorage.getItem("userData")?this.dataArr[this.dataArr.length]=t:this.dataArr.push(t)},localStorage:function(){cc.sys.localStorage.setItem("userData",JSON.stringify(this.dataArr)),cc.sys.localStorage.getItem("userData")},initAllUsers:function(){this.dataArr=JSON.parse(cc.sys.localStorage.getItem("userData"))||[]},initPlayerInfo:function(t){var e=this.getUserDataByName(t);this.playerInfo=this.structData(e)},savePlayerInfo:function(){for(var t=0;t<this.dataArr.length;t++)if(this.structData(this.dataArr[t]).name==this.playerInfo.name){this.dataArr[t]=this.playerInfo;break}cc.sys.localStorage.setItem("userData",JSON.stringify(this.dataArr))},getUserData:function(){var t=cc.sys.localStorage.getItem("userData");return t?JSON.parse(t):null},removeUserData:function(){cc.sys.localStorage.removeItem("userData")},structData:function(t){var e=new i;return e.id=t._id,e.name=t._name,e.gold=parseInt(t._gold),e.physics=parseInt(t._physics),e.vip=parseInt(t._vip),e},checkGold:function(t){return!(t>this.playerInfo.gold)},checkUserName:function(t){var e=cc.sys.localStorage.getItem("userData");if(!e)return!1;for(var n=(e=JSON.parse(e)).length||0,i=0;i<n;i++)if(e[i]._name==t)return!0;return!1},getUserDataByName:function(t){for(var e=null,n=this.getUserData()||[],i=n.length||0,s=0;s<i;s++){var o=n[s];if(o._name==t){e=o;break}}return e},getPlayerInfo:function(){return this.playerInfo}}));s._instance=null,s.getInstance=function(){return s._instance||(s._instance=new s),s._instance},e.exports=s,cc._RF.pop()},{"../data/UserItem":"UserItem","../utils/StringUtils":"StringUtils"}]},{},["ButtonCtrl","GlobalData","LoadingScene","LoginScene","LogoScene","MenuSceneCtrl","ScrollCellCtrl","ScrollGroupView","ScrollItemCtrl","SlotMachineCtrl","ChatItem","UserItem","AudioMgr","ChatMgr","UserMgr","ResultShowCtrl","UIBaseCtrl","UIChargeCtrl","UIChargeItemCtrl","UIChatCtrl","UIChatItemCtrl","UIHelpCtrl","UIHelpItemCtrl","UIRankCtrl","UIRankItemCtrl","UIRecordCtrl","UIRecordItemCtrl","UISettingCtrl","ScrollUtils","SoundUtils","StringUtils"]);